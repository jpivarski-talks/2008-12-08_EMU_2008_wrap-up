import ROOT
execfile("/home/jpivarski/bin/tdrstyle.py")

# iter0x = [-0.11244231, 0.05347877, 0.05319269, -0.01614471, 0.08053526, -0.12803993, -0.11439196, 0.05338833, -0.06757501, -0.03943539, 0.01245836, -0.00921431, -0.04415366, -0.03512257, 0.09250715, 0.04390171, -0.07337286, -0.01316184, \
#           0.04100924, -0.00555671, 0.03890727, 0.02682811, -0.11505779, -0.06344803, 0.02663479, -0.01561186, 0.02086070, -0.01279159, -0.06074867, 0.13970365, 0.01103830, 0.09608046, -0.04894624, -0.01512059, -0.00375890, 0.09824044]
# iter0phiy = [-0.00050866, 0.00013776, -0.00025366, 0.00058231, 0.00055496, -0.00034163, 0.00091745, 0.00006801, 0.00143240, -0.00010976, 0.00034204, 0.00038021, -0.00065104, 0.00023405, 0.00222955, 0.00038358, -0.00228653, -0.00054067, 0.00085735, 0.00106906, 0.00046770, 0.00064587, -0.00082423, 0.00065220, -0.00064732, 0.00079288, -0.00096293, -0.00009045, 0.00038240, 0.00041212, 0.00112773, -0.00146703, 0.00081629, -0.00053577, 0.00039465, 0.00058852]
# iter0phiz = [-0.00018014, -0.00101777, -0.00100217, -0.00038462, 0.00047302, 0.00028493, 0.00081027, -0.00010485, -0.00017842, -0.00078290, 0.00088135, -0.00099353, 0.00031795, -0.00020740, 0.00103154, -0.00035674, -0.00004216, -0.00061389, -0.00000724, -0.00031421, -0.00024610, -0.00016531, -0.00066074, -0.00069933, -0.00254568, 0.00074567, -0.00095743, 0.00000026, 0.00059050, 0.00026582, 0.00009667, -0.00036094, 0.00002107, 0.00053052, -0.00002672, 0.00103998]

# iter4x = [-0.03398347, -0.02587404, -0.01146934, -0.01103185, -0.02761228, -0.00813920, -0.02493596, 0.00050377, -0.00704691, 0.02163441, -0.02142072, 0.02370474, -0.02684839, -0.04209970, -0.01718749, -0.01772819, -0.00528270, -0.02875565, -0.02153960, 0.00565212, 0.01235408, 0.01331841, 0.03149340, 0.02840165, 0.05568843, 0.00428017, 0.03418151, 0.00422732, 0.03536230, 0.00281608, 0.01785790, 0.03597609, 0.00035927, -0.00467768, -0.07602297, -0.02145555]
# iter4phiy = [0.00048780, 0.00033702, -0.00034527, 0.00000000, 0.00025465, -0.00004508, 0.00068789, 0.00048643, 0.00077068, 0.00084573, 0.00158116, 0.00069053, 0.00069048, -0.00109183, -0.00154389, 0.00000000, -0.00146475, 0.00000000, -0.00000000, 0.00034523, 0.00031901, -0.00069047, -0.00091346, -0.00069051, -0.00015971, -0.00114205, -0.00058727, -0.00103574, -0.00103576, -0.00109105, 0.00077175, 0.00165583, 0.00246548, 0.00119604, 0.00299008, 0.00119559]
# iter4phiz = [0.00033776, 0.00045689, -0.00003949, -0.00003621, 0.00005025, -0.00007297, -0.00007477, -0.00025273, -0.00016839, -0.00032437, -0.00048184, -0.00071338, -0.00057611, -0.00028452, -0.00011628, -0.00014166, 0.00013783, 0.00023457, -0.00004609, -0.00016085, -0.00026772, -0.00026536, -0.00034061, -0.00047583, -0.00030479, 0.00000848, 0.00018533, 0.00012071, 0.00001367, -0.00012695, -0.00038547, -0.00002255, -0.00029170, -0.00035130, 0.00005424, -0.00003628]

iter0x = [-0.16063274, 0.07640206, 0.07600189, -0.02306663, 0.11505018, -0.18291581, -0.16342012, 0.07626422, -0.09653411, -0.05633649, 0.01779660, -0.01314172, -0.06307673, -0.05017545, 0.13215586, 0.06272245, -0.10481659, -0.01880274, 0.05858449, -0.00793224, 0.05556640, 0.03833054, -0.16436775, -0.09064159, 0.03806023, -0.02229587, 0.02979923, -0.01827277, -0.08678494, 0.19958589, 0.01576215, 0.13725823, -0.06991802, -0.02159334, -0.00538021, 0.14033927]
iter0phiy = [-0.00152597, 0.00041328, -0.00076097, 0.00174694, 0.00166488, -0.00102488, 0.00275234, 0.00020402, 0.00429719, -0.00032927, 0.00102611, 0.00114064, -0.00195313, 0.00070215, 0.00668863, 0.00115073, -0.00685958, -0.00162201, 0.00257204, 0.00320717, 0.00140311, 0.00193761, -0.00247270, 0.00195661, -0.00194197, 0.00237863, -0.00288878, -0.00027134, 0.00114720, 0.00123636, 0.00338318, -0.00440110, 0.00244886, -0.00160732, 0.00118394, 0.00176556]
iter0phiz = [-0.00025735, -0.00145397, -0.00143169, -0.00054946, 0.00067575, 0.00040703, 0.00115756, -0.00014978, -0.00025490, -0.00111843, 0.00125910, -0.00141930, 0.00045421, -0.00029628, 0.00147366, -0.00050964, -0.00006022, -0.00087697, -0.00001034, -0.00044886, -0.00035155, -0.00023615, -0.00094391, -0.00099904, -0.00363669, 0.00106521, -0.00136773, 0.00000037, 0.00084355, 0.00037970, 0.00013811, -0.00051564, 0.00003014, 0.00075788, -0.00003821, 0.00148567 ]

iter5x = [-0.0269697, -0.0136093, -0.0045155, 0.00481188, -0.0114819, 0.00864571, -0.012257, 0.0196205, 0.000181473, 0.0331656, -0.00257231, 0.03792, -0.0107521, -0.0219172, 0.0075971, 0.00188858, 0.00401741, -0.0137734, -0.0364242, 0.00187562, -0.00240887, 0.013037, 0.0133306, 0.0257943, 0.0343725, 0.00512507, 0.0175298, -0.001206, 0.0223713, 0.00134591, 0.00532321, 0.0298211, -0.0146677, -0.00646665, -0.0897236, -0.0190293 ]
iter5phiy = [0.000419826, 0.000171156, -0.000425874, -0.000134674, 6.2326e-05, 0.000171446, 0.000550676, 0.000346066, 0.000609686, 0.000770166, 0.00143345, 0.000609926, 0.000487536, -0.0012716, -0.00166995, -0.000425874, -0.00162191, -8.2364e-05, -3.5408e-05, 0.000137172, 0.000122872, -0.000633428, -0.000887938, -0.000633428, -0.000474048, -0.00140338, -0.000907358, -0.00140534, -0.0013239, -0.00147787, 0.000511672, 0.00134997, 0.00221368, 0.00102239, 0.00280193, 0.00102241]
iter5phiz = [0.00046542, 0.00060218, 0.00010008, 9.665e-05, 0.00014351, 5.923e-05, 3.721e-05, -0.00013918, -2.652e-05, -0.0001666, -0.00041093, -0.00057153, -0.00049299, -0.00018229, -8.744e-05, -3.89e-05, 0.00025337, 0.00035867, 0.00011384, -5.95e-06, -0.00011871, -0.00013273, -0.0001798, -0.00030575, -0.00010714, 0.0001164, 0.00034439, 0.00026299, 0.00015618, 1.7e-06, -0.00024232, 0.0001355, -0.000132, -0.00020516, 0.00020837, 9.023e-05 ]

tdrStyle.SetOptStat("ruo")
tdrStyle.SetStatH(0.05)
tdrStyle.SetStatW(0.3)
tdrStyle.SetStatFontSize(0.05)

h_iter0x = ROOT.TH1F("h_iter0x", "", 30, -2., 2)
H_iter0x = ROOT.TH1F("H_iter0x", "", 30, -2., 2)
for x in iter0x:
    h_iter0x.Fill(x*10.)
for x in iter5x:
    H_iter0x.Fill(x*10.)

h_iter0x.SetFillColor(ROOT.kGray)
h_iter0x.SetLineWidth(2)
h_iter0x.SetLineStyle(2)
h_iter0x.SetLineColor(ROOT.kGray+3)
H_iter0x.SetFillColor(ROOT.kYellow)
H_iter0x.SetLineWidth(2)
cloneh_iter0x = h_iter0x.Clone()
cloneh_iter0x.SetFillColor(ROOT.kWhite)

H_iter0x.SetXTitle("MC chamber r#phi alignment (mm)")
H_iter0x.GetXaxis().CenterTitle()

cloneH_iter0x = H_iter0x.Clone()
H_iter0x.GetXaxis().SetLabelColor(ROOT.kWhite)
H_iter0x.GetXaxis().SetTitleColor(ROOT.kWhite)
H_iter0x.GetYaxis().SetLabelColor(ROOT.kWhite)
cloneH_iter0x.GetXaxis().SetTitleOffset(1.05)

H_iter0x.Draw("axis")
h_iter0x.Draw("same")
H_iter0x.Draw("same")
cloneh_iter0x.Draw("same")
cloneH_iter0x.Draw("axissame")
ROOT.gPad.SaveAs("mcchamber_rphi.pdf")

h_iter0phiy = ROOT.TH1F("h_iter0phiy", "", 30, -5., 5)
H_iter0phiy = ROOT.TH1F("H_iter0phiy", "", 30, -5., 5)
for phiy in iter0phiy:
    h_iter0phiy.Fill(phiy*1000.)
for phiy in iter5phiy:
    H_iter0phiy.Fill(phiy*1000.)

h_iter0phiy.SetFillColor(ROOT.kGray)
h_iter0phiy.SetLineWidth(2)
h_iter0phiy.SetLineStyle(2)
h_iter0phiy.SetLineColor(ROOT.kGray+3)
H_iter0phiy.SetFillColor(ROOT.kYellow)
H_iter0phiy.SetLineWidth(2)
cloneh_iter0phiy = h_iter0phiy.Clone()
cloneh_iter0phiy.SetFillColor(ROOT.kWhite)

H_iter0phiy.SetXTitle("MC chamber #phi_{y} alignment (mrad)")
H_iter0phiy.GetXaxis().CenterTitle()

cloneH_iter0phiy = H_iter0phiy.Clone()
H_iter0phiy.GetXaxis().SetLabelColor(ROOT.kWhite)
H_iter0phiy.GetXaxis().SetTitleColor(ROOT.kWhite)
H_iter0phiy.GetYaxis().SetLabelColor(ROOT.kWhite)
cloneH_iter0phiy.GetXaxis().SetTitleOffset(1.05)

H_iter0phiy.Draw("axis")
h_iter0phiy.Draw("same")
H_iter0phiy.Draw("same")
cloneh_iter0phiy.Draw("same")
cloneH_iter0phiy.Draw("axissame")
ROOT.gPad.SaveAs("mcchamber_phiy.pdf")

h_iter0phiz = ROOT.TH1F("h_iter0phiz", "", 30, -3., 3)
H_iter0phiz = ROOT.TH1F("H_iter0phiz", "", 30, -3., 3)
for phiz in iter0phiz:
    h_iter0phiz.Fill(phiz*1000.)
for phiz in iter5phiz:
    H_iter0phiz.Fill(phiz*1000.)

h_iter0phiz.SetFillColor(ROOT.kGray)
h_iter0phiz.SetLineWidth(2)
h_iter0phiz.SetLineStyle(2)
h_iter0phiz.SetLineColor(ROOT.kGray+3)
H_iter0phiz.SetFillColor(ROOT.kYellow)
H_iter0phiz.SetLineWidth(2)
cloneh_iter0phiz = h_iter0phiz.Clone()
cloneh_iter0phiz.SetFillColor(ROOT.kWhite)

H_iter0phiz.SetXTitle("MC chamber #phi_{z} alignment (mrad)")
H_iter0phiz.GetXaxis().CenterTitle()

cloneH_iter0phiz = H_iter0phiz.Clone()
H_iter0phiz.GetXaxis().SetLabelColor(ROOT.kWhite)
H_iter0phiz.GetXaxis().SetTitleColor(ROOT.kWhite)
H_iter0phiz.GetYaxis().SetLabelColor(ROOT.kWhite)
cloneH_iter0phiz.GetXaxis().SetTitleOffset(1.05)

H_iter0phiz.Draw("axis")
h_iter0phiz.Draw("same")
H_iter0phiz.Draw("same")
cloneh_iter0phiz.Draw("same")
cloneH_iter0phiz.Draw("axissame")
ROOT.gPad.SaveAs("mcchamber_phiz.pdf")

